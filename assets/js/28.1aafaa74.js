(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{305:function(a,t,n){"use strict";n.r(t);var s=n(0),e=Object(s.a)({},function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("p",[a._v("在这篇博客中，我们将讨论"),n("code",[a._v("Jetpack")]),a._v("的"),n("code",[a._v("Navigation Component")]),a._v("。假设你已经掌握了"),n("code",[a._v("Android")]),a._v("的基本知识，并且渴望精通"),n("code",[a._v("Android")]),a._v("。")]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/android_icon.png",alt:""}})]),a._v(" "),n("h2",{attrs:{id:"什么是-jetpack？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是-jetpack？","aria-hidden":"true"}},[a._v("#")]),a._v(" 什么是 JetPack？")]),a._v(" "),n("p",[n("code",[a._v("Jetpack")]),a._v("是在"),n("code",[a._v("Google I/O 2018")]),a._v("上推出的一套UI组件库，用于帮助开发人员遵循最佳实践，减少样板代码，并编写能够在Android不同版本和设备之间一致工作的代码，以便开发人员能够只专注于写他们关心的代码。")]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/android_jetpack.png",alt:""}})]),a._v(" "),n("h3",{attrs:{id:"不使用navigation-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#不使用navigation-component","aria-hidden":"true"}},[a._v("#")]),a._v(" 不使用"),n("code",[a._v("Navigation component")])]),a._v(" "),n("ul",[n("li",[a._v("应用程序中的导航任务是手动创建的")]),a._v(" "),n("li",[a._v("没有创建/编辑应用程序路由导航流的标准实践")]),a._v(" "),n("li",[a._v("没有标准的可视化工具来理解应用程序路由流程")]),a._v(" "),n("li",[a._v("没有一致的方法将"),n("code",[a._v("Activity")]),a._v("/"),n("code",[a._v("Fragment")]),a._v("管理到本机应用程序中")])]),a._v(" "),n("h3",{attrs:{id:"使用navigation-component"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用navigation-component","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用"),n("code",[a._v("Navigation component")])]),a._v(" "),n("ul",[n("li",[a._v("现在，我们有了标准的API，以及还有IDE中的可视化工具，用以帮助使整个开发过程更加清晰、简单和一致")]),a._v(" "),n("li",[a._v("我们可以使用设计工具来创建路由并定义导航路径")])]),a._v(" "),n("h2",{attrs:{id:"先决条件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#先决条件","aria-hidden":"true"}},[a._v("#")]),a._v(" 先决条件")]),a._v(" "),n("p",[a._v("导航组件需要"),n("code",[a._v("Android Studio 3.3")]),a._v("或更高版本，并且依赖于"),n("code",[a._v("Java 8")]),a._v("语言特性。")]),a._v(" "),n("h2",{attrs:{id:"简单介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简单介绍","aria-hidden":"true"}},[a._v("#")]),a._v(" 简单介绍")]),a._v(" "),n("p",[a._v("不同屏幕和应用程序中，路由导航是用户体验的核心部分。一些原则为跨应用程序的一致和直观的用户体验设定了一个基准。"),n("a",{attrs:{href:"https://developer.android.com/topic/libraries/architecture/navigation",target:"_blank",rel:"noopener noreferrer"}},[a._v("Navigation component"),n("OutboundLink")],1),a._v("被设计为默认实现这些原则，确保用户在不同应用程序之间，可以有相同的启发式和模式的导航体验。")]),a._v(" "),n("p",[n("code",[a._v("Navigation")]),a._v("是一个用于在"),n("code",[a._v("Android")]),a._v("应用程序中不同页面之间跳转导航的框架，它提供了一致的API，无论目的页面是以"),n("code",[a._v("Activity")]),a._v("或"),n("code",[a._v("Fragment")]),a._v("还是其他组件的形式实现的。")]),a._v(" "),n("p",[n("code",[a._v("Navigation Component")]),a._v("由三个部分组成：")]),a._v(" "),n("ol",[n("li",[n("strong",[n("code",[a._v("Navigation Graph")]),a._v("(XML resource)")]),a._v(": 这个一个包含所有导航页面的文件。它包含应用中所有的"),n("code",[a._v("Activities")]),a._v("、"),n("code",[a._v("Fragments")]),a._v("和"),n("code",[a._v("Dialogs")]),a._v("，以及用户在应用中可能经过的所有路径。")]),a._v(" "),n("li",[n("strong",[a._v("NavHostFragment(Layout XML view)")]),a._v(": 这是一个布局中的特殊组件，它用于显示不同页面的路径")]),a._v(" "),n("li",[n("strong",[a._v("NavController (Kotlin/Java object)")]),a._v(": 这是一个"),n("code",[a._v("Navigation")]),a._v("控制器，当你在不同页面跳转时，它可以用来控制跳转及获取当前位置。")])]),a._v(" "),n("h2",{attrs:{id:"如何使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 如何使用")]),a._v(" "),n("h3",{attrs:{id:"步骤一-在build-gradle中添加依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-在build-gradle中添加依赖","aria-hidden":"true"}},[a._v("#")]),a._v(" "),n("strong",[a._v("步骤一")]),a._v(": 在"),n("code",[a._v("build.gradle")]),a._v("中添加依赖")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('dependencies {\n    def nav_version = “2.3.2"\n\n    // Java依赖\n    implementation “androidx.navigation:navigation-fragment:$nav_version"\n    implementation “androidx.navigation:navigation-ui:$nav_version"\n\n    // Kotlin依赖\n    implementation “androidx.navigation:navigation-fragment-ktx:$nav_version"\n    implementation “androidx.navigation:navigation-ui-ktx:$nav_version"\n\n    // Feature 模块依赖\n    implementation “androidx.navigation:navigation-dynamic-features-fragment:$nav_version"\n\n    // 测试模块\n    androidTestImplementation “androidx.navigation:navigation-testing:$nav_version"\n\n}\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br")])]),n("h3",{attrs:{id:"步骤二-向activity中添加navhost"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-向activity中添加navhost","aria-hidden":"true"}},[a._v("#")]),a._v(" "),n("strong",[a._v("步骤二")]),a._v(": 向Activity中添加"),n("code",[a._v("NavHost")])]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/activity_navhost.png",alt:""}})]),a._v(" "),n("ol",[n("li",[a._v("这是一个Activity的布局，它包含全局导航，一个底部按钮和一个工具栏")]),a._v(" "),n("li",[n("code",[a._v('android:name="androidx.navigation.fragment.NavHostFragment"')]),a._v("和"),n("code",[a._v('app:defaultNavHost="true"')]),a._v("将系统的后退按钮连接到"),n("code",[a._v("NavHostFragment")])]),a._v(" "),n("li",[n("code",[a._v('app:navGraph="@navigation/app_navigation"')]),a._v("用于将"),n("code",[a._v("NavHostFragment")]),a._v("与"),n("code",[a._v("Navigation Graph")]),a._v("联系起来，"),n("code",[a._v("Navigation Graph")]),a._v("用于管理所有路由导航。")])]),a._v(" "),n("h3",{attrs:{id:"步骤三-创建nav-graph文件（navigation-graph）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-创建nav-graph文件（navigation-graph）","aria-hidden":"true"}},[a._v("#")]),a._v(" "),n("strong",[a._v("步骤三")]),a._v(": 创建"),n("code",[a._v("nav_graph")]),a._v("文件（Navigation Graph）")]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/Navigation_Editor.png",alt:""}})]),a._v(" "),n("p",[a._v("它用于将所有页面路由作为子元素添加到一个文件中。注意，请确保所有子元素都分配了唯一的id。")]),a._v(" "),n("p",[n("em",[a._v("IDE路由提供的路由编辑器")])]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/Navigation_Editor.png",alt:"Navigation Editor"}})]),a._v(" "),n("p",[n("em",[a._v("自动生成的源码")])]),a._v(" "),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/auto_generated_source_code.png",alt:"自动生成的源码"}})]),a._v(" "),n("p",[a._v("这里使用了四个参数：")]),a._v(" "),n("ol",[n("li",[n("strong",[n("code",[a._v("android:id")])]),a._v(": 路由唯一id，跟之前在XML中为其它组件设置id类似")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("android:name")])]),a._v(": 路由使用的类名")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("android:label")])]),a._v(": 路由名称")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("tools:layout")])]),a._v(": 布局文件的id")])]),a._v(" "),n("p",[a._v("我们使用"),n("code",[a._v("startDestination")]),a._v("来定义第一个视图位置")]),a._v(" "),n("p",[a._v("我们再来看看"),n("code",[a._v("action")]),a._v("中使用的参数\n"),n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/navigation_action.png",alt:""}})]),a._v(" "),n("ol",[n("li",[n("strong",[n("code",[a._v("android:id")])]),a._v(": "),n("code",[a._v("action")]),a._v("的id")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("app:destination")])]),a._v(": 目标页面的id，将当前action跟页面联系起来")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("app:popUpTo")])]),a._v(": 如果应用程序已经从页面A导航到页面B，然后从页面B导航到页面C，那么这是为了向后导航。如果要将页面A转到页面C，可以将页面A的id设置到这里。后台导航组件将会自动管理堆栈和生命周期。")]),a._v(" "),n("li",[n("strong",[n("code",[a._v("popUpToInclusive=true")])]),a._v(": 表示返回到"),n("code",[a._v("popUpTo")]),a._v("指定的页面后，会清除的栈顶的页面。")]),a._v(" "),n("li",[a._v("我们还可以定义一些导航动画，我们可以在"),n("code",[a._v("res/anim")]),a._v("文件夹中定义好动画")])]),a._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("fragment")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@+id/loginFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("com.android.samples.LoginFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("label")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("fragment_login"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("tools:")]),a._v("layout")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@layout/fragment_login"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("action")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@+id/action_loginFragment_to_forgotPasswordFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("destination")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@id/forgotPasswordFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("popUpTo")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@+id/signinMainFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("popUpToInclusive")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("enterAnim")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@anim/slide_in_right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("exitAnim")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@anim/slide_out_left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("popEnterAnim")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@anim/slide_in_left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("popExitAnim")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@anim/slide_out_right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("action")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("android:")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@+id/action_loginFragment_to_tnCFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("destination")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@id/tnCFragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("fragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br")])]),n("p",[a._v("我们可以定义动画使用下面的属性:")]),a._v(" "),n("ul",[n("li",[a._v('app:enterAnim="@anim/slide_in_right"')]),a._v(" "),n("li",[a._v('app:exitAnim="@anim/slide_out_left"')]),a._v(" "),n("li",[a._v('app:popEnterAnim="@anim/slide_in_left"')]),a._v(" "),n("li",[a._v('app:popExitAnim="@anim/slide_out_right"')])]),a._v(" "),n("h3",{attrs:{id:"跳转页面-navcontroller"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跳转页面-navcontroller","aria-hidden":"true"}},[a._v("#")]),a._v(" 跳转页面(NavController)")]),a._v(" "),n("p",[n("code",[a._v("NavController")]),a._v("非常强大，因为当您调用像"),n("code",[a._v("navigate()")]),a._v("或"),n("code",[a._v("popBackStack()")]),a._v("这样的方法时，它会将这些命令转化为框架兼容的方法。例如，当你调用"),n("code",[a._v("navigate()")]),a._v("时，"),n("code",[a._v("NavController")]),a._v("会内部调用"),n("code",[a._v("startActivity()")]),a._v("。")]),a._v(" "),n("p",[a._v("跳转页面使用"),n("code",[a._v("NavController")]),a._v("完成的，这是一个管理"),n("code",[a._v("NavHost")]),a._v("中的应用导航的对象。每个"),n("code",[a._v("NavHost")]),a._v("都有自己对应的"),n("code",[a._v("NavController")]),a._v("。你可以使用以下方法之一来获取一个"),n("code",[a._v("NavController")]),a._v(":")]),a._v(" "),n("p",[a._v("Kotlin:")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/kotlin/androidx/navigation/fragment/package-summary#findnavcontroller",target:"_blank",rel:"noopener noreferrer"}},[a._v("Fragment.findNavController()"),n("OutboundLink")],1)]),a._v(" "),n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/kotlin/androidx/navigation/package-summary#%28android.view.View%29.findNavController%28%29",target:"_blank",rel:"noopener noreferrer"}},[a._v("View.findNavController()"),n("OutboundLink")],1)]),a._v(" "),n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/kotlin/androidx/navigation/package-summary#findnavcontroller",target:"_blank",rel:"noopener noreferrer"}},[a._v("Activity.findNavController(viewId: Int)"),n("OutboundLink")],1)])]),a._v(" "),n("p",[a._v("Java:")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/androidx/navigation/fragment/NavHostFragment#findNavController(android.support.v4.app.Fragment)",target:"_blank",rel:"noopener noreferrer"}},[a._v("NavHostFragment.findNavController(Fragment)"),n("OutboundLink")],1)]),a._v(" "),n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/androidx/navigation/Navigation#findNavController(android.app.Activity,%20int)",target:"_blank",rel:"noopener noreferrer"}},[a._v("Navigation.findNavController(Activity, @IdRes int viewId)"),n("OutboundLink")],1)]),a._v(" "),n("li",[n("a",{attrs:{href:"https://developer.android.com/reference/androidx/navigation/Navigation#findNavController(android.view.View)",target:"_blank",rel:"noopener noreferrer"}},[a._v("Navigation.findNavController(View)"),n("OutboundLink")],1)])]),a._v(" "),n("blockquote",[n("p",[n("code",[a._v("Navigation component")]),a._v("推荐使用"),n("a",{attrs:{href:"https://developer.android.com/topic/libraries/architecture/navigation/navigation-pass-data#Safe-args",target:"_blank",rel:"noopener noreferrer"}},[a._v("Safe Args"),n("OutboundLink")],1),a._v("这个Gradle插件确保类型安全")])]),a._v(" "),n("p",[a._v("我们可以获取一个"),n("code",[a._v("NavController")]),a._v("对象，并通过"),n("code",[a._v("navigate")]),a._v("来跳转")]),a._v(" "),n("div",{staticClass:"language-kotlin line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-kotlin"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" directions"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" NavDirections "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" LoginFragmentDirections"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("actionLoginFragmentToForgotPasswordFragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nNavigation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("findNavController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("view"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("navigate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("directions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h3",{attrs:{id:"嵌套路由"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由","aria-hidden":"true"}},[a._v("#")]),a._v(" 嵌套路由")]),a._v(" "),n("p",[a._v("我们可以将一些路由进行嵌套，以重用一些组件。我们可以使用"),n("code",[a._v("include")]),a._v("来进行设置")]),a._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("include")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("app:")]),a._v("graph")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("@navigation/profile_nav_graph"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/nested_graph.png",alt:""}})]),a._v(" "),n("h3",{attrs:{id:"使用navigationui跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用navigationui跳转","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用"),n("code",[a._v("NavigationUI")]),a._v("跳转")]),a._v(" "),n("p",[a._v("我们可以在页面共用的如顶部导航栏通过"),n("a",{attrs:{href:"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI",target:"_blank",rel:"noopener noreferrer"}},[a._v("NavigationUI"),n("OutboundLink")],1),a._v("来进行页面跳转")])])},[],!1,null,null,null);t.default=e.exports}}]);