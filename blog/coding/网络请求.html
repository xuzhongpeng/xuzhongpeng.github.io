<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络知识 | 幺风</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.da10bf32.css" as="style"><link rel="preload" href="/assets/js/app.f735c987.js" as="script"><link rel="preload" href="/assets/js/4.1b5f1a26.js" as="script"><link rel="preload" href="/assets/js/3.7354cf96.js" as="script"><link rel="preload" href="/assets/js/34.89d049a4.js" as="script"><link rel="prefetch" href="/assets/js/1.91feba10.js"><link rel="prefetch" href="/assets/js/10.c31bcc1b.js"><link rel="prefetch" href="/assets/js/11.642edadc.js"><link rel="prefetch" href="/assets/js/12.e9bb10d9.js"><link rel="prefetch" href="/assets/js/13.bdd95be6.js"><link rel="prefetch" href="/assets/js/14.b6c81b34.js"><link rel="prefetch" href="/assets/js/15.b5139249.js"><link rel="prefetch" href="/assets/js/16.1ade8e0c.js"><link rel="prefetch" href="/assets/js/17.f0b30fb5.js"><link rel="prefetch" href="/assets/js/18.1c883b67.js"><link rel="prefetch" href="/assets/js/19.3e639663.js"><link rel="prefetch" href="/assets/js/20.74962acf.js"><link rel="prefetch" href="/assets/js/21.f837615d.js"><link rel="prefetch" href="/assets/js/22.933fde40.js"><link rel="prefetch" href="/assets/js/23.9334c5ee.js"><link rel="prefetch" href="/assets/js/24.ef408fc2.js"><link rel="prefetch" href="/assets/js/25.f9800b90.js"><link rel="prefetch" href="/assets/js/26.f56ce7bf.js"><link rel="prefetch" href="/assets/js/27.267e0efb.js"><link rel="prefetch" href="/assets/js/28.1aafaa74.js"><link rel="prefetch" href="/assets/js/29.bf71bb2d.js"><link rel="prefetch" href="/assets/js/30.65608550.js"><link rel="prefetch" href="/assets/js/31.c5de1bf4.js"><link rel="prefetch" href="/assets/js/32.43ee74a8.js"><link rel="prefetch" href="/assets/js/33.1efff8a5.js"><link rel="prefetch" href="/assets/js/35.6b5e7256.js"><link rel="prefetch" href="/assets/js/36.1be005db.js"><link rel="prefetch" href="/assets/js/37.db62ff97.js"><link rel="prefetch" href="/assets/js/38.5cf11128.js"><link rel="prefetch" href="/assets/js/39.fa355553.js"><link rel="prefetch" href="/assets/js/40.7490c5e3.js"><link rel="prefetch" href="/assets/js/41.4e813bfa.js"><link rel="prefetch" href="/assets/js/42.93650a8e.js"><link rel="prefetch" href="/assets/js/43.9f1ac82d.js"><link rel="prefetch" href="/assets/js/44.bd781139.js"><link rel="prefetch" href="/assets/js/45.2c5e635b.js"><link rel="prefetch" href="/assets/js/46.50f53b28.js"><link rel="prefetch" href="/assets/js/47.5478a007.js"><link rel="prefetch" href="/assets/js/48.ec71092b.js"><link rel="prefetch" href="/assets/js/49.f17a1618.js"><link rel="prefetch" href="/assets/js/5.4c86b808.js"><link rel="prefetch" href="/assets/js/50.b1e9909e.js"><link rel="prefetch" href="/assets/js/51.777f406a.js"><link rel="prefetch" href="/assets/js/52.f3a47314.js"><link rel="prefetch" href="/assets/js/53.8bda39e8.js"><link rel="prefetch" href="/assets/js/54.6bdd66b2.js"><link rel="prefetch" href="/assets/js/55.d3af29b9.js"><link rel="prefetch" href="/assets/js/56.5e98aed3.js"><link rel="prefetch" href="/assets/js/57.8fac4797.js"><link rel="prefetch" href="/assets/js/58.1f764b7f.js"><link rel="prefetch" href="/assets/js/59.cd677a6a.js"><link rel="prefetch" href="/assets/js/6.d79a3977.js"><link rel="prefetch" href="/assets/js/60.83d74725.js"><link rel="prefetch" href="/assets/js/61.e61ccd9b.js"><link rel="prefetch" href="/assets/js/62.444cc809.js"><link rel="prefetch" href="/assets/js/63.157bbc00.js"><link rel="prefetch" href="/assets/js/64.2ec80c70.js"><link rel="prefetch" href="/assets/js/65.d35a0001.js"><link rel="prefetch" href="/assets/js/66.6f92e582.js"><link rel="prefetch" href="/assets/js/67.9d51e14d.js"><link rel="prefetch" href="/assets/js/68.5675c3e2.js"><link rel="prefetch" href="/assets/js/69.e536d7ac.js"><link rel="prefetch" href="/assets/js/7.0dcc7463.js"><link rel="prefetch" href="/assets/js/70.e187963b.js"><link rel="prefetch" href="/assets/js/71.09bda95d.js"><link rel="prefetch" href="/assets/js/72.aefd789f.js"><link rel="prefetch" href="/assets/js/73.20936a8d.js"><link rel="prefetch" href="/assets/js/74.d17921e6.js"><link rel="prefetch" href="/assets/js/75.0ff9c5e9.js"><link rel="prefetch" href="/assets/js/76.479d210c.js"><link rel="prefetch" href="/assets/js/77.c5443f0d.js"><link rel="prefetch" href="/assets/js/78.666b2fe9.js"><link rel="prefetch" href="/assets/js/79.949a1f44.js"><link rel="prefetch" href="/assets/js/8.67e8e6f2.js"><link rel="prefetch" href="/assets/js/9.70c87633.js">
    <link rel="stylesheet" href="/assets/css/0.styles.da10bf32.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container reform"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="幺风" class="logo"> <span class="site-name can-hide">幺风</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><span class="reform-jia" style="font-size:1rem;"></span>
主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-zhi"></span> <span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/" class="nav-link"><!---->
前端</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/" class="nav-link"><!---->
Flutter</a></li><li class="dropdown-item"><!----> <a href="/blog/coding/" class="nav-link router-link-active"><!---->
学习思考</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link"><!---->
算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/reading/" class="nav-link"><!---->
阅读笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/reflection/" class="nav-link"><!---->
思考</a></li><li class="dropdown-item"><!----> <a href="/blog/canvas/" class="nav-link"><!---->
渲染相关</a></li><li class="dropdown-item"><!----> <a href="/blog/gesture/" class="nav-link"><!---->
事件相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-shuben"></span> <span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/document/vuepress-theme-reform.html" class="nav-link"><!---->
vuepress-theme-reform</a></li><li class="dropdown-item"><!----> <a href="/document/弹幕插件文档.html" class="nav-link"><!---->
弹幕插件文档</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><!---->
标签云</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
关于我</a></div> <a href="https://github.com/xuzhongpeng" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><span class="reform-jia" style="font-size:1rem;"></span>
主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-zhi"></span> <span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/" class="nav-link"><!---->
前端</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/" class="nav-link"><!---->
Flutter</a></li><li class="dropdown-item"><!----> <a href="/blog/coding/" class="nav-link router-link-active"><!---->
学习思考</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link"><!---->
算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/reading/" class="nav-link"><!---->
阅读笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/reflection/" class="nav-link"><!---->
思考</a></li><li class="dropdown-item"><!----> <a href="/blog/canvas/" class="nav-link"><!---->
渲染相关</a></li><li class="dropdown-item"><!----> <a href="/blog/gesture/" class="nav-link"><!---->
事件相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-shuben"></span> <span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/document/vuepress-theme-reform.html" class="nav-link"><!---->
vuepress-theme-reform</a></li><li class="dropdown-item"><!----> <a href="/document/弹幕插件文档.html" class="nav-link"><!---->
弹幕插件文档</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><!---->
标签云</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
关于我</a></div> <a href="https://github.com/xuzhongpeng" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>计算机网络知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#tcp的3次握手和四次挥手" class="sidebar-link">TCP的3次握手和四次挥手</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#四次挥手：" class="sidebar-link">四次挥手：</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#为什么连接的时候是三次握手，关闭的时候却是四次握手？" class="sidebar-link">为什么连接的时候是三次握手，关闭的时候却是四次握手？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#为什么不能用两次握手进行连接？" class="sidebar-link">为什么不能用两次握手进行连接？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#tcp与udp的区别" class="sidebar-link">TCP与UDP的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#tcp与udp的应用" class="sidebar-link">TCP与UDP的应用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#http-https区别，此处延伸：https的实现原理" class="sidebar-link">Http https区别，此处延伸：https的实现原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#https实现原理：" class="sidebar-link">https实现原理：</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#ip地址与mac地址区别" class="sidebar-link">IP地址与MAC地址区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#http协议的method" class="sidebar-link">Http协议的method</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#状态码" class="sidebar-link">状态码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#_301、302、303、307、308区别" class="sidebar-link">301、302、303、307、308区别</a></li></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#当我们输入url访问网站到网页展示会经历什么" class="sidebar-link">当我们输入url访问网站到网页展示会经历什么</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#http-1-0与1-1区别" class="sidebar-link">HTTP 1.0与1.1区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#http-2-0" class="sidebar-link">HTTP 2.0</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#https协议加密方式" class="sidebar-link">HTTPS协议加密方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#dns服务器" class="sidebar-link">DNS服务器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#dns服务器的树状结构：" class="sidebar-link">DNS服务器的树状结构：</a></li><li class="sidebar-sub-header"><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#解析流程" class="sidebar-link">解析流程</a></li><li class="sidebar-sub-header"><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#负载均衡" class="sidebar-link">负载均衡</a></li><li class="sidebar-sub-header"><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#dns服务器问题" class="sidebar-link">DNS服务器问题</a></li></ul></li><li><a href="/blog/coding/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82.html#websocket" class="sidebar-link">websocket</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page" data-v-8958e280> <section class="tags" data-v-8958e280><span class="tagPopup" data-v-8958e280><a href="/tags/?tag=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" class="tag" data-v-8958e280>计算机网络</a></span></section> <div class="content theme-default-content content__default" data-v-8958e280><h1 id="计算机网络知识"><a href="#计算机网络知识" aria-hidden="true" class="header-anchor">#</a> 计算机网络知识</h1> <h2 id="tcp的3次握手和四次挥手"><a href="#tcp的3次握手和四次挥手" aria-hidden="true" class="header-anchor">#</a> TCP的3次握手和四次挥手</h2> <p>三次握手：
第一次：客户端发送请求到服务器，服务器知道客户端发送，自己接收正常。SYN=1,seq=x</p> <p>第二次：服务器发给客户端，客户端知道自己发送、接收正常，服务器接收、发送正常。ACK=1,ack=x+1,SYN=1,seq=y</p> <p>第三次：客户端发给服务器：服务器知道客户端发送，接收正常，自己接收，发送也正常.seq=x+1,ACK=1,ack=y+1</p> <h2 id="四次挥手："><a href="#四次挥手：" aria-hidden="true" class="header-anchor">#</a> 四次挥手：</h2> <p>第一次：客户端请求断开FIN,seq=u</p> <p>第二次：服务器确认客户端的断开请求ACK,ack=u+1,seq=v</p> <p>第三次：服务器请求断开FIN,seq=w,ACK,ack=u+1</p> <p>第四次：客户端确认服务器的断开ACK,ack=w+1,seq=u+1</p> <h2 id="为什么连接的时候是三次握手，关闭的时候却是四次握手？"><a href="#为什么连接的时候是三次握手，关闭的时候却是四次握手？" aria-hidden="true" class="header-anchor">#</a> 为什么连接的时候是三次握手，关闭的时候却是四次握手？</h2> <p>因为当Server端收到Client端的SYN连接请求报文后，可以直接发送SYN+ACK报文。其中ACK报文是用来应答的，SYN报文是用来同步的。但是关闭连接时，当Server端收到FIN报文时，很可能并不会立即关闭SOCKET，所以只能先回复一个ACK报文，告诉Client端，&quot;你发的FIN报文我收到了&quot;。只有等到我Server端所有的报文都发送完了，我才能发送FIN报文，因此不能一起发送。故需要四步握手。</p> <h2 id="为什么不能用两次握手进行连接？"><a href="#为什么不能用两次握手进行连接？" aria-hidden="true" class="header-anchor">#</a> 为什么不能用两次握手进行连接？</h2> <p>3次握手完成两个重要的功能，既要双方做好发送数据的准备工作(双方都知道彼此已准备好)，也要允许双方就初始序列号进行协商，这个序列号在握手过程中被发送和确认。
现在把三次握手改成仅需要两次握手，死锁是可能发生的。</p> <h2 id="tcp与udp的区别"><a href="#tcp与udp的区别" aria-hidden="true" class="header-anchor">#</a> TCP与UDP的区别</h2> <p>tcp是面向连接的，由于tcp连接需要三次握手，所以能够最低限度的降低风险，保证连接的可靠性。
udp 不是面向连接的，udp建立连接前不需要与对象建立连接，无论是发送还是接收，都没有发送确认信号。所以说udp是不可靠的。
由于udp不需要进行确认连接，使得UDP的开销更小，传输速率更高，所以实时行更好。</p> <h2 id="tcp与udp的应用"><a href="#tcp与udp的应用" aria-hidden="true" class="header-anchor">#</a> TCP与UDP的应用</h2> <p>从特点上我们已经知道，TCP 是可靠的但传输速度慢 ，UDP 是不可靠的但传输速度快。因此在选用具体协议通信时，应该根据通信数据的要求而决定。
若通信数据完整性需让位与通信实时性，则应该选用 TCP 协议（如文件传输、重要状态的更新等）；反之，则使用 UDP 协议（如视频传输、实时通信等）。</p> <h2 id="http-https区别，此处延伸：https的实现原理"><a href="#http-https区别，此处延伸：https的实现原理" aria-hidden="true" class="header-anchor">#</a> Http https区别，此处延伸：https的实现原理</h2> <p>1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。
2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。
3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</p> <h2 id="https实现原理："><a href="#https实现原理：" aria-hidden="true" class="header-anchor">#</a> https实现原理：</h2> <p>（1）客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。
（2）Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。
（3）客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。
（4）客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。
（5）Web服务器利用自己的私钥解密出会话密钥。
（6）Web服务器利用会话密钥加密与客户端之间的通信。</p> <h2 id="ip地址与mac地址区别"><a href="#ip地址与mac地址区别" aria-hidden="true" class="header-anchor">#</a> IP地址与MAC地址区别</h2> <ol><li>IP 是地址，有定位功能；MAC 是身份证，无定位功能；</li> <li>MAC是每个电脑厂商出场时配置的，每个电脑的MAC地址不会变。IP地址是供应商分配的，跟网络有关。</li></ol> <h2 id="http协议的method"><a href="#http协议的method" aria-hidden="true" class="header-anchor">#</a> Http协议的method</h2> <ul><li>GET 请求资源</li> <li>HEAD 只请求页面首部</li> <li>POST 提交资源</li> <li>PUT 客户端向服务端传送数据文档内容</li> <li>DELETE 删除指定页面</li> <li>OPTIONS 查看服务器性能及302验证是否需要缓存更新</li> <li>TRADE 请求服务器在响应中的实体主体部分返回所得的内容</li></ul> <h2 id="状态码"><a href="#状态码" aria-hidden="true" class="header-anchor">#</a> 状态码</h2> <ul><li>200 OK：客户端请求成功。</li> <li>301永久性重定向</li> <li>302临时性重定向</li> <li>304服务端已经执行了GET，但文件未变化</li> <li>400 Bad Request：客户端请求有语法错误，不能被服务器所理解。</li> <li>401 Unauthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用。</li> <li>403 Forbidden：服务器收到请求，但是拒绝提供服务。</li> <li>404 Not Found：请求资源不存在，举个例子：输入了错误的URL。</li> <li>500 Internal Server Error：服务器发生不可预期的错误。</li> <li>502 网关或代理错误</li> <li>503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常，举个例子：HTTP/1.1 200 OK（CRLF）。</li></ul> <h3 id="_301、302、303、307、308区别"><a href="#_301、302、303、307、308区别" aria-hidden="true" class="header-anchor">#</a> 301、302、303、307、308区别</h3> <p>301、308都是永久重定向</p> <ul><li>301会将post请求转给get请求重新发送</li> <li>308会将原来的请求头和请求实体发送到新的地址</li></ul> <p>302、303、307是临时性重定向</p> <ul><li>302 客户端实现不一致，导致有些情况下会转 get请求再次请求，有些情况下会继续原来请求的方法</li> <li>303 为了解决302的问题，此状态码将会把所有请求方法转为get方法再次请求新请求</li> <li>307 将会原来的请求头请求体发送到新地址</li></ul> <h2 id="当我们输入url访问网站到网页展示会经历什么"><a href="#当我们输入url访问网站到网页展示会经历什么" aria-hidden="true" class="header-anchor">#</a> 当我们输入url访问网站到网页展示会经历什么</h2> <ul><li>域名先通过DNS服务器解析成IP地址</li> <li>建立TCP连接（三次握手）</li> <li>请求构建:请求行、请求首部、正文实体</li> <li>通过二进制流发送</li> <li>TCP层将二进制流变成报文</li> <li>TCP发送报文段，用得到回应ACK来保证可靠地到达了对方。</li> <li>TCP发送每个报文的时候，加上自己的地址和目标地址放到IP头交给IP层传输</li> <li>IP层查看是否在同一个局域网，如果是，发送ARP协议来请求目标MAC地址；如果不是，发送ARP协议获取网关MAC地址，并把数据发送到网关</li> <li>网关收到取出目标IP地址，根据路由器协议找到下一跳的路由器，获取下一跳的路由器的MAC地址并发送给下一跳路由器</li> <li>到达目标地址的局域网，于是这个局域网发送ARP协议获取目标地址的MAC地址并发送到该地址</li> <li>目标机器发现了MAC地址符合，接收包，发现是IP协议，于是根据IP头中的协议项知道上层是TCP协议，于是按照TCP协议解析TCP的头，放入缓存中处理并返回一个ACK</li> <li>解析TCP的端口号，HTTP服务器监听此端口号，目标机器将包发送给目标端口，HTTP服务器进程响应到请求，返回找到对应资源</li> <li>服务器构建返回报文：状态吗、返回首部</li> <li>让TCP层将返回的HTML文件分为一个个小的段，加上TCP头交给IP层按来的过程再走一遍</li> <li>客户端发现接收报文，交给TCP层根据序列号处理是否符合，然后发给相应端口</li> <li>浏览器监听端口，取到状态码200，解析正文</li> <li>浏览器根据首部返回格式解析html格式数据，渲染执行</li></ul> <h2 id="http-1-0与1-1区别"><a href="#http-1-0与1-1区别" aria-hidden="true" class="header-anchor">#</a> HTTP 1.0与1.1区别</h2> <ul><li><p><code>缓存处理</code>，在HTTP1.0中主要使用header里的If-Modified-Since,Expires来做为缓存判断的标准，HTTP1.1则引入了更多的缓存控制策略例如Entity tag，If-Unmodified-Since, If-Match, If-None-Match等更多可供选择的缓存头来控制缓存策略。</p></li> <li><p><code>带宽优化及网络连接的使用</code>，HTTP1.0中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP1.1则在请求头引入了range头域，它允许只请求资源的某个部分，即返回码是206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。</p></li> <li><p><code>错误通知的管理</code>，在HTTP1.1中新增了24个错误状态响应码，如409（Conflict）表示请求的资源与资源的当前状态发生冲突；410（Gone）表示服务器上的某个资源被永久性的删除。</p></li> <li><p><code>Host头处理</code>，在HTTP1.0中认为每台服务器都绑定一个唯一的IP地址，因此，请求消息中的URL并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机（Multi-homed Web Servers），并且它们共享一个IP地址。HTTP1.1的请求消息和响应消息都应支持Host头域，且请求消息中如果没有Host头域会报告一个错误（400 Bad Request）。</p></li> <li><p><code>长连接</code>，HTTP 1.1支持长连接（PersistentConnection）和请求的流水线（Pipelining）处理，在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟，在HTTP1.1中默认开启Connection： keep-alive，一定程度上弥补了HTTP1.0每次请求都要创建连接的缺点。</p></li></ul> <h2 id="http-2-0"><a href="#http-2-0" aria-hidden="true" class="header-anchor">#</a> HTTP 2.0</h2> <p>对比HTTP1.0优化：</p> <ol><li>对HTTP的头进行压缩，在两端建立索引表，对相同的头只发生索引表中的索引</li> <li>多路复用
<ul><li>HTTP2.0将TCP连接中，切分成多个流，每个流有自己的ID，它是一个虚拟通道，优先级更高</li> <li>对传输信息分割为更小的消息和帧，并采用二进制格式编码。传输header内容的帧<code>Header帧</code>,传输正文实体的帧<code>Data帧</code></li> <li>比如有三个请求，HTTP2.0会将它们分成三个流，将数据分成帧，乱序发送给TCP处理</li></ul></li></ol> <h2 id="https协议加密方式"><a href="#https协议加密方式" aria-hidden="true" class="header-anchor">#</a> HTTPS协议加密方式</h2> <ul><li>对称加密：加密和解密使用的密钥是相同的</li> <li>非对称加密：公钥加密的信息只能私钥能解密，私钥加密的信息只有公钥能解密</li> <li>数字证书</li></ul> <h2 id="dns服务器"><a href="#dns服务器" aria-hidden="true" class="header-anchor">#</a> DNS服务器</h2> <h3 id="dns服务器的树状结构："><a href="#dns服务器的树状结构：" aria-hidden="true" class="header-anchor">#</a> DNS服务器的树状结构：</h3> <ul><li><code>根 DNS 服务器</code>返回顶级域 DNS 服务器的 IP 地址</li> <li><code>顶级域 DNS 服务器</code>返回权威 DNS 服务器的 IP 地址</li> <li><code>权威 DNS 服务器</code>返回相应主机的 IP 地址</li></ul> <h3 id="解析流程"><a href="#解析流程" aria-hidden="true" class="header-anchor">#</a> 解析流程</h3> <ul><li>客户端发起DNS解析流程，先访问本地DNS缓存（/etc/hosts），无缓存</li> <li>客户端向本地DNS服务器（一般附近运营商的某个机房），无缓存</li> <li>本地DNS服务器访问根域名服务器，根域名服务器会返回顶级DNS服务器的IP地址</li> <li>本地DNS服务器拿到顶级DNS服务器IP地址，访问顶级DNS服务器地址，返回权威域名服务器IP地址</li> <li>本地DNS服务器拿到权威域名服务器IP地址，访问并拿到对应IP地址</li> <li>本地DNS服务器返回IP地址，客户端发起IP协议请求</li></ul> <h3 id="负载均衡"><a href="#负载均衡" aria-hidden="true" class="header-anchor">#</a> 负载均衡</h3> <ul><li><code>内部负载均衡</code>：1.重新映射域名即可更换服务器2.配置策略，可让解析时自动更换IP地址</li> <li><code>全局负载均衡</code>: 根据配置让DNS服务器自动返回附近的服务器的IP地址</li></ul> <h3 id="dns服务器问题"><a href="#dns服务器问题" aria-hidden="true" class="header-anchor">#</a> DNS服务器问题</h3> <ul><li>解析慢</li> <li>更新不及时</li> <li>因为缓存、转发、NAT问题导致客户端误会自己梭子啊的位置和运营商，影响流量调度</li></ul> <h2 id="websocket"><a href="#websocket" aria-hidden="true" class="header-anchor">#</a> websocket</h2> <ol><li>longpoll 客户端一直发送消息，服务端接受消息才返回</li> <li>轮询 客户端一直发送消息，服务端一直返回</li></ol> <p>websocket是基于TCP的一个协议，可以让服务端对数据进行推送。</p></div> <footer class="page-edit" data-v-8958e280><!----> <div class="last-updated" data-v-8958e280><span class="prefix" data-v-8958e280>Last Updated:</span> <span class="time" data-v-8958e280>8/22/2021, 7:00:25 PM</span></div></footer> <!----> <div id="gitalk-container" data-v-8958e280></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f735c987.js" defer></script><script src="/assets/js/4.1b5f1a26.js" defer></script><script src="/assets/js/3.7354cf96.js" defer></script><script src="/assets/js/34.89d049a4.js" defer></script>
  </body>
</html>
