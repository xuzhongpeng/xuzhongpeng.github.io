<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Flutter canvas学习之文字与图片 | 幺风</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.da10bf32.css" as="style"><link rel="preload" href="/assets/js/app.f735c987.js" as="script"><link rel="preload" href="/assets/js/4.1b5f1a26.js" as="script"><link rel="preload" href="/assets/js/3.7354cf96.js" as="script"><link rel="preload" href="/assets/js/25.f9800b90.js" as="script"><link rel="prefetch" href="/assets/js/1.91feba10.js"><link rel="prefetch" href="/assets/js/10.c31bcc1b.js"><link rel="prefetch" href="/assets/js/11.642edadc.js"><link rel="prefetch" href="/assets/js/12.e9bb10d9.js"><link rel="prefetch" href="/assets/js/13.bdd95be6.js"><link rel="prefetch" href="/assets/js/14.b6c81b34.js"><link rel="prefetch" href="/assets/js/15.b5139249.js"><link rel="prefetch" href="/assets/js/16.1ade8e0c.js"><link rel="prefetch" href="/assets/js/17.f0b30fb5.js"><link rel="prefetch" href="/assets/js/18.1c883b67.js"><link rel="prefetch" href="/assets/js/19.3e639663.js"><link rel="prefetch" href="/assets/js/20.74962acf.js"><link rel="prefetch" href="/assets/js/21.f837615d.js"><link rel="prefetch" href="/assets/js/22.933fde40.js"><link rel="prefetch" href="/assets/js/23.9334c5ee.js"><link rel="prefetch" href="/assets/js/24.ef408fc2.js"><link rel="prefetch" href="/assets/js/26.f56ce7bf.js"><link rel="prefetch" href="/assets/js/27.267e0efb.js"><link rel="prefetch" href="/assets/js/28.1aafaa74.js"><link rel="prefetch" href="/assets/js/29.bf71bb2d.js"><link rel="prefetch" href="/assets/js/30.65608550.js"><link rel="prefetch" href="/assets/js/31.c5de1bf4.js"><link rel="prefetch" href="/assets/js/32.43ee74a8.js"><link rel="prefetch" href="/assets/js/33.1efff8a5.js"><link rel="prefetch" href="/assets/js/34.89d049a4.js"><link rel="prefetch" href="/assets/js/35.6b5e7256.js"><link rel="prefetch" href="/assets/js/36.1be005db.js"><link rel="prefetch" href="/assets/js/37.db62ff97.js"><link rel="prefetch" href="/assets/js/38.5cf11128.js"><link rel="prefetch" href="/assets/js/39.fa355553.js"><link rel="prefetch" href="/assets/js/40.7490c5e3.js"><link rel="prefetch" href="/assets/js/41.4e813bfa.js"><link rel="prefetch" href="/assets/js/42.93650a8e.js"><link rel="prefetch" href="/assets/js/43.9f1ac82d.js"><link rel="prefetch" href="/assets/js/44.bd781139.js"><link rel="prefetch" href="/assets/js/45.2c5e635b.js"><link rel="prefetch" href="/assets/js/46.50f53b28.js"><link rel="prefetch" href="/assets/js/47.5478a007.js"><link rel="prefetch" href="/assets/js/48.ec71092b.js"><link rel="prefetch" href="/assets/js/49.f17a1618.js"><link rel="prefetch" href="/assets/js/5.4c86b808.js"><link rel="prefetch" href="/assets/js/50.b1e9909e.js"><link rel="prefetch" href="/assets/js/51.777f406a.js"><link rel="prefetch" href="/assets/js/52.f3a47314.js"><link rel="prefetch" href="/assets/js/53.8bda39e8.js"><link rel="prefetch" href="/assets/js/54.6bdd66b2.js"><link rel="prefetch" href="/assets/js/55.d3af29b9.js"><link rel="prefetch" href="/assets/js/56.5e98aed3.js"><link rel="prefetch" href="/assets/js/57.8fac4797.js"><link rel="prefetch" href="/assets/js/58.1f764b7f.js"><link rel="prefetch" href="/assets/js/59.cd677a6a.js"><link rel="prefetch" href="/assets/js/6.d79a3977.js"><link rel="prefetch" href="/assets/js/60.83d74725.js"><link rel="prefetch" href="/assets/js/61.e61ccd9b.js"><link rel="prefetch" href="/assets/js/62.444cc809.js"><link rel="prefetch" href="/assets/js/63.157bbc00.js"><link rel="prefetch" href="/assets/js/64.2ec80c70.js"><link rel="prefetch" href="/assets/js/65.d35a0001.js"><link rel="prefetch" href="/assets/js/66.6f92e582.js"><link rel="prefetch" href="/assets/js/67.9d51e14d.js"><link rel="prefetch" href="/assets/js/68.5675c3e2.js"><link rel="prefetch" href="/assets/js/69.e536d7ac.js"><link rel="prefetch" href="/assets/js/7.0dcc7463.js"><link rel="prefetch" href="/assets/js/70.e187963b.js"><link rel="prefetch" href="/assets/js/71.09bda95d.js"><link rel="prefetch" href="/assets/js/72.aefd789f.js"><link rel="prefetch" href="/assets/js/73.20936a8d.js"><link rel="prefetch" href="/assets/js/74.d17921e6.js"><link rel="prefetch" href="/assets/js/75.0ff9c5e9.js"><link rel="prefetch" href="/assets/js/76.479d210c.js"><link rel="prefetch" href="/assets/js/77.c5443f0d.js"><link rel="prefetch" href="/assets/js/78.666b2fe9.js"><link rel="prefetch" href="/assets/js/79.949a1f44.js"><link rel="prefetch" href="/assets/js/8.67e8e6f2.js"><link rel="prefetch" href="/assets/js/9.70c87633.js">
    <link rel="stylesheet" href="/assets/css/0.styles.da10bf32.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container reform"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="幺风" class="logo"> <span class="site-name can-hide">幺风</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><span class="reform-jia" style="font-size:1rem;"></span>
主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-zhi"></span> <span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/" class="nav-link"><!---->
前端</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/" class="nav-link"><!---->
Flutter</a></li><li class="dropdown-item"><!----> <a href="/blog/coding/" class="nav-link"><!---->
学习思考</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link"><!---->
算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/reading/" class="nav-link"><!---->
阅读笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/reflection/" class="nav-link"><!---->
思考</a></li><li class="dropdown-item"><!----> <a href="/blog/canvas/" class="nav-link router-link-active"><!---->
渲染相关</a></li><li class="dropdown-item"><!----> <a href="/blog/gesture/" class="nav-link"><!---->
事件相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-shuben"></span> <span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/document/vuepress-theme-reform.html" class="nav-link"><!---->
vuepress-theme-reform</a></li><li class="dropdown-item"><!----> <a href="/document/弹幕插件文档.html" class="nav-link"><!---->
弹幕插件文档</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><!---->
标签云</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
关于我</a></div> <a href="https://github.com/xuzhongpeng" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><span class="reform-jia" style="font-size:1rem;"></span>
主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-zhi"></span> <span class="title">博文</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/" class="nav-link"><!---->
前端</a></li><li class="dropdown-item"><!----> <a href="/blog/flutter/" class="nav-link"><!---->
Flutter</a></li><li class="dropdown-item"><!----> <a href="/blog/coding/" class="nav-link"><!---->
学习思考</a></li><li class="dropdown-item"><!----> <a href="/blog/algorithm/" class="nav-link"><!---->
算法与数据结构</a></li><li class="dropdown-item"><!----> <a href="/blog/reading/" class="nav-link"><!---->
阅读笔记</a></li><li class="dropdown-item"><!----> <a href="/blog/reflection/" class="nav-link"><!---->
思考</a></li><li class="dropdown-item"><!----> <a href="/blog/canvas/" class="nav-link router-link-active"><!---->
渲染相关</a></li><li class="dropdown-item"><!----> <a href="/blog/gesture/" class="nav-link"><!---->
事件相关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="reform-shuben"></span> <span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/document/vuepress-theme-reform.html" class="nav-link"><!---->
vuepress-theme-reform</a></li><li class="dropdown-item"><!----> <a href="/document/弹幕插件文档.html" class="nav-link"><!---->
弹幕插件文档</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link"><!---->
标签云</a></div><div class="nav-item"><a href="/about/" class="nav-link"><!---->
关于我</a></div> <a href="https://github.com/xuzhongpeng" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/blog/canvas/Flutter渲染之CompositingBits_paint_composite.html" class="sidebar-link">Flutter渲染之绘制上屏</a></li><li><a href="/blog/canvas/Flutter渲染之启动与三棵树的构建.html" class="sidebar-link">Flutter渲染之启动与三棵树的构建</a></li><li><a href="/blog/canvas/Flutter渲染之绘制启动及layout.html" class="sidebar-link">Flutter渲染之绘制启动及Layout</a></li><li><a href="/blog/canvas/canvas学习之文字与图片.html" class="active sidebar-link">Flutter canvas学习之文字与图片</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#paragraph" class="sidebar-link">Paragraph</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#textpainter" class="sidebar-link">TextPainter</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#drawimage" class="sidebar-link">drawImage</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#drawimagerect" class="sidebar-link">drawImageRect</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#drawimagenine" class="sidebar-link">drawImageNine</a></li><li class="sidebar-sub-header"><a href="/blog/canvas/canvas学习之文字与图片.html#drawpicture" class="sidebar-link">drawPicture</a></li></ul></li><li><a href="/blog/canvas/canvas学习之基础知识.html" class="sidebar-link">Flutter Canvas学习之基础知识</a></li><li><a href="/blog/canvas/" class="sidebar-link">渲染相关学习</a></li><li><a href="/blog/canvas/canvas学习之绘图篇.html" class="sidebar-link">Flutter Canvas学习之绘图篇</a></li></ul> </aside> <main class="page" data-v-8958e280> <section class="tags" data-v-8958e280><span class="tagPopup" data-v-8958e280><a href="/tags/?tag=%E7%BB%98%E5%88%B6%E7%9B%B8%E5%85%B3" class="tag" data-v-8958e280>绘制相关</a></span><span class="tagPopup" data-v-8958e280><a href="/tags/?tag=Flutter" class="tag" data-v-8958e280>Flutter</a></span><span class="tagPopup" data-v-8958e280><a href="/tags/?tag=Canvas" class="tag" data-v-8958e280>Canvas</a></span><span class="tagPopup" data-v-8958e280><a href="/tags/?tag=Dart" class="tag" data-v-8958e280>Dart</a></span></section> <div class="content theme-default-content content__default" data-v-8958e280><p>Flutter Canvas学习会作为一个系列，原文传送门：</p> <ul><li><a href="canvas%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86">Flutter canvas学习之基础知识</a></li> <li><a href="canvas%E5%AD%A6%E4%B9%A0%E4%B9%8B%E7%BB%98%E5%9B%BE%E7%AF%87">Flutter canvas学习之绘图篇</a></li> <li><a href="canvas%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E5%AD%97%E4%B8%8E%E5%9B%BE%E7%89%87">Flutter canvas学习之文字与图片</a></li></ul> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>在一般UI框架中，文字与图片的绘制都较为复杂，所以单独一篇来讲解。</p> <h2 id="paragraph"><a href="#paragraph" aria-hidden="true" class="header-anchor">#</a> Paragraph</h2> <blockquote><p>void drawParagraph(Paragraph paragraph, Offset offset)</p></blockquote> <p><code>Paragraph</code>是Flutter中用于文字绘制的类，Flutter中所有的文字，最后都是通过它来绘制的，连输入框也都是通过它来实现的，由此可见它的强大之处。</p> <p><code>Paragraph</code>是一个没有构造函数的类，它只是提供一个宿主，用于最后的渲染。我们真正需要处理的则是<code>ParagraphBuilder</code>这个类。</p> <p><code>ParagraphBuilder</code>类接收一个参数，是一个<code>ParagraphStyle</code>类，用于设置字体基本样式，例如字体方向、对齐方向、字体粗细等，下面我们分几个步骤来绘制文字</p> <p>第一步，生成<code>ParagraphStyle</code>类</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string">'dart:ui'</span> <span class="token operator">as</span> ui<span class="token punctuation">;</span>
<span class="token keyword">final</span> paragraphStyle <span class="token operator">=</span> ui<span class="token punctuation">.</span><span class="token function">ParagraphStyle</span><span class="token punctuation">(</span>
  <span class="token comment">// 字体方向，有些国家语言是从右往左排版的</span>
  textDirection<span class="token punctuation">:</span> TextDirection<span class="token punctuation">.</span>ltr<span class="token punctuation">,</span>
  <span class="token comment">// 字体对齐方式</span>
  textAlign<span class="token punctuation">:</span> TextAlign<span class="token punctuation">.</span>justify<span class="token punctuation">,</span>
  fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  maxLines<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token comment">// 字体超出大小时显示的提示</span>
  ellipsis<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span>
  fontStyle<span class="token punctuation">:</span> FontStyle<span class="token punctuation">.</span>italic<span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token comment">// 当我们设置[TextStyle.height]时 这个高度是否应用到字体顶部和底部</span>
  textHeightBehavior<span class="token punctuation">:</span>
      <span class="token function">TextHeightBehavior</span><span class="token punctuation">(</span>applyHeightToFirstAscent<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>applyHeightToLastDescent<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>第二步，根据<code>ParagraphStyle</code>生成<code>ParagraphBuilder</code></p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">final</span> paragraphBuilder <span class="token operator">=</span> ui<span class="token punctuation">.</span><span class="token function">ParagraphBuilder</span><span class="token punctuation">(</span>paragraphStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第三步，添加文字。<code>ParagraphBuilder</code>类有个<code>addText</code>方法专门用于接收文字</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>paragraphBuilder<span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token string">'JSShou学习Canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第四步，通过<code>build</code>取到<code>Paragraph</code>类</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> paragraph <span class="token operator">=</span> paragraphBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第五步，根据宽高进行布局(layout)</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>paragraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span><span class="token function">ParagraphConstraints</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第六步，绘制(paint)</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>canvas<span class="token punctuation">.</span><span class="token function">drawParagraph</span><span class="token punctuation">(</span>paragraph<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>全部代码如下</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 第一步</span>
<span class="token keyword">final</span> paragraphStyle <span class="token operator">=</span> ui<span class="token punctuation">.</span><span class="token function">ParagraphStyle</span><span class="token punctuation">(</span>
    <span class="token comment">// 字体方向，有些国家语言是从右往左排版的</span>
    textDirection<span class="token punctuation">:</span> TextDirection<span class="token punctuation">.</span>ltr<span class="token punctuation">,</span>
    <span class="token comment">// 字体对齐方式</span>
    textAlign<span class="token punctuation">:</span> TextAlign<span class="token punctuation">.</span>justify<span class="token punctuation">,</span>
    fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
    maxLines<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token comment">// 字体超出大小时显示的提示</span>
    ellipsis<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span>
    fontStyle<span class="token punctuation">:</span> FontStyle<span class="token punctuation">.</span>italic<span class="token punctuation">,</span>
    height<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token comment">// 当我们设置[TextStyle.height]时 这个高度是否应用到字体顶部和底部</span>
    textHeightBehavior<span class="token punctuation">:</span>
        <span class="token function">TextHeightBehavior</span><span class="token punctuation">(</span>applyHeightToFirstAscent<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>applyHeightToLastDescent<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第二步 与第三步</span>
<span class="token keyword">final</span> paragraphBuilder <span class="token operator">=</span> ui<span class="token punctuation">.</span><span class="token function">ParagraphBuilder</span><span class="token punctuation">(</span>paragraphStyle<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token string">'ParagraphBuilder类接收一个参数，是一个ParagraphStyle类，用于设置字体基本样式，例如字体方向、对齐方向、字体粗细等，下面我们分几个步骤来绘制文字'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第四步</span>
<span class="token keyword">var</span> paragraph <span class="token operator">=</span> paragraphBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第五步</span>
paragraph<span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span>ui<span class="token punctuation">.</span><span class="token function">ParagraphConstraints</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 画一个辅助矩形（可以通过paragraph.width和paragraph.height来获取绘制文字的宽高）</span>
canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>
    Rect<span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">+</span> paragraph<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token number">50</span> <span class="token operator">+</span> paragraph<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>
    paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第六步</span>
canvas<span class="token punctuation">.</span><span class="token function">drawParagraph</span><span class="token punctuation">(</span>paragraph<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>效果如下：</p> <p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/paragraph.png" alt="paragraph"></p> <h2 id="textpainter"><a href="#textpainter" aria-hidden="true" class="header-anchor">#</a> TextPainter</h2> <p>说了<code>Paragraph</code>，就不得不提<code>TextPainter</code>。<code>TextPainter</code>是通过<code>Paragraph</code>封装而成，相比<code>Paragraph</code>它提供了更加强大的能力</p> <ul><li>通过传入<code>TextSpan</code>，实现多种不同效果的字体来支持富文本</li> <li>不像<code>Paragraph</code>必须设置一个宽度，它可以不用初始化宽度，可以用过<code>TextPainter.width</code>来获取实际渲染宽度（实际上<code>Paragraph</code>也能实现，不过它封装了一层更贴近我们的开发思维）</li></ul> <p>使用它也很简单</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">var</span> textPainter <span class="token operator">=</span> <span class="token function">TextPainter</span><span class="token punctuation">(</span>
  text<span class="token punctuation">:</span> <span class="token function">TextSpan</span><span class="token punctuation">(</span>
      text<span class="token punctuation">:</span>
          <span class="token string">&quot;可多种不同效果的字体来支持富文本可多种不同效果的字体来支持富文本&quot;</span><span class="token punctuation">,</span>
      style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span>fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  textDirection<span class="token punctuation">:</span> TextDirection<span class="token punctuation">.</span>rtl<span class="token punctuation">,</span>
  textWidthBasis<span class="token punctuation">:</span> TextWidthBasis<span class="token punctuation">.</span>longestLine<span class="token punctuation">,</span>
  maxLines<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token comment">// 可以传入minWidth，maxWidth来限制它的宽度，如不传，文字会绘制在一行</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">layout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> startOffset <span class="token operator">=</span> <span class="token number">50.0</span><span class="token punctuation">;</span>
<span class="token comment">// 绘制辅助矩形框，在文字绘制前即可通过textPainter.width和textPainter.height来获取文字绘制的宽度</span>
canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>
    Rect<span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span>startOffset<span class="token punctuation">,</span> startOffset<span class="token punctuation">,</span> startOffset <span class="token operator">+</span> textPainter<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
        startOffset <span class="token operator">+</span> textPainter<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>
    paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
textPainter<span class="token punctuation">.</span><span class="token function">paint</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span>startOffset<span class="token punctuation">,</span> startOffset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/textPainter.png" alt="textPainter"></p> <h2 id="drawimage"><a href="#drawimage" aria-hidden="true" class="header-anchor">#</a> drawImage</h2> <blockquote><p>void drawImage(Image image, Offset offset, Paint paint)</p></blockquote> <p>我们可以通过drawImage来绘制图片，这里的<code>Image</code>不是我们常用的<code>Image</code>，它是<code>dart:ui</code>库中的<code>Image</code>，它保存了图片的一些基本信息并直接与引擎交互。</p> <p>在使用该方法时，需要先加载一张图片，加载图片的方式有很多，我就介绍一种方式</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'assets/test.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span>
Future<span class="token operator">&lt;</span>ui<span class="token punctuation">.</span>Image<span class="token operator">&gt;</span> <span class="token function">load</span><span class="token punctuation">(</span>String asset<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
  ByteData data <span class="token operator">=</span> <span class="token keyword">await</span> rootBundle<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>asset<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ui<span class="token punctuation">.</span>Codec codec <span class="token operator">=</span> <span class="token keyword">await</span> ui<span class="token punctuation">.</span><span class="token function">instantiateImageCodec</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span><span class="token function">asUint8List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>targetWidth<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>targetHeight<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ui<span class="token punctuation">.</span>FrameInfo fi <span class="token operator">=</span> <span class="token keyword">await</span> codec<span class="token punctuation">.</span><span class="token function">getNextFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> fi<span class="token punctuation">.</span>image<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>由于图片加载是异步过程，不能放到<code>CustomPaint</code>的<code>paint</code>方法来加载（因为paint完成之后canvas会dispose掉，如果在异步方法后面再使用canvas，会报错<code>Object has been disposed</code>），这里需要在外部使用一个<code>StatefulWidget</code>，加载完成后将获取到的<code>Image</code>传入<code>CustomPaint</code>中。此时，再使用<code>canvas.drawImage</code>来加载。</p> <p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/drawImage.png" alt="drawImage"></p> <h2 id="drawimagerect"><a href="#drawimagerect" aria-hidden="true" class="header-anchor">#</a> drawImageRect</h2> <blockquote><p>void drawImageRect(Image image, Rect src, Rect dst, Paint paint)</p></blockquote> <ul><li>src: 截取一块图片区域，起始点相对与图片左上角</li> <li>dst: 在canvas上绘制一个区域来绘制上面截取的图片，图片可能会被拉升</li></ul> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 绘制原图</span>
canvas<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 图片区域</span>
Rect rect <span class="token operator">=</span> Rect<span class="token punctuation">.</span><span class="token function">fromCenter</span><span class="token punctuation">(</span>
        center<span class="token punctuation">:</span> <span class="token function">Offset</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        width<span class="token punctuation">:</span> image<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> image<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 绘制辅助线，向下向右平移50，因为原图是相对于Offset(50,50)</span>
canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//  go</span>
canvas<span class="token punctuation">.</span><span class="token function">drawImageRect</span><span class="token punctuation">(</span>
    image<span class="token punctuation">,</span>
    rect<span class="token punctuation">,</span>
    Rect<span class="token punctuation">.</span><span class="token function">fromLTWH</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/drawImageRect.png" alt="drawImageRect"></p> <h2 id="drawimagenine"><a href="#drawimagenine" aria-hidden="true" class="header-anchor">#</a> drawImageNine</h2> <blockquote><p>void drawImageNine(Image image, Rect center, Rect dst, Paint paint)</p></blockquote> <p>这个方法就像Android中的<code>.9图</code>，在图片拉伸的时候特定的区域不会发生图片失真，而不失真的区域可以由我们自己绘制。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>canvas<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
Rect rect <span class="token operator">=</span> Rect<span class="token punctuation">.</span><span class="token function">fromCenter</span><span class="token punctuation">(</span>
        center<span class="token punctuation">:</span> <span class="token function">Offset</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        width<span class="token punctuation">:</span> image<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> image<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
Rect dst <span class="token operator">=</span> Rect<span class="token punctuation">.</span><span class="token function">fromLTWH</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span><span class="token function">drawImageNine</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> rect<span class="token punctuation">,</span> dst<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/drawImageNine.png" alt="drawImageNine"></p> <p>如果我们改变<code>dst</code>，也就是图片绘制区域</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>Rect dst <span class="token operator">=</span> Rect<span class="token punctuation">.</span><span class="token function">fromLTWH</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/drawImageNine1.png" alt="drawImageNine1"></p> <p>聪明的你已经发现了，图片被拉伸和压缩都有一定规律，上面原图的蓝色区域是可能被压缩和拉伸的位置，同时蓝色区域上下左右部分也是存在可能被拉伸位置，而四个角会保持原样不会失真。</p> <h2 id="drawpicture"><a href="#drawpicture" aria-hidden="true" class="header-anchor">#</a> drawPicture</h2> <p>这个方法是通过传入一个<code>Picture</code>实例来进行绘制的，而<code>Picture</code>需通过<code>PictureRecorder</code>来构造。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 开始记录Picture</span>
ui<span class="token punctuation">.</span>PictureRecorder recorder <span class="token operator">=</span> ui<span class="token punctuation">.</span><span class="token function">PictureRecorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Canvas canvas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Canvas</span><span class="token punctuation">(</span>recorder<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用 Canvas 的绘制接口，画一个圆形</span>
canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>
    <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 绘制结束，生成Picture</span>
Picture picture <span class="token operator">=</span> recorder<span class="token punctuation">.</span><span class="token function">endRecording</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这里的<code>Picture</code>并不是指我们传统的图片，图片相关是通过<code>Image</code>来表达的，这里的<code>Picture</code>是之绘制的任何图形(通过drawLine、drawRect等绘制的)。上面只是生成一个<code>Picture</code>的最简单的例子，我们new一个Canvas对象用于记录绘制的数据，当调用<code>recorder.endRecording</code>结束记录并返回一个<code>Picture</code>对象。需要特殊说明的是，这的canvas提供<code>drawPicture</code>方法也并不是希望我们在其中使用<code>PictureRecorder</code>来记录并绘制UI(实际上我们在paint方法中这样做，会报错。还有CustomPaint中提供了canvas对象，不需要new)，而是在其它位置得到一个<code>Picture</code>对象时，我们可以此方法来进行绘制。所以上面的代码我们需要放在<code>StatefulWidget</code>中执行并把得到的<code>Picture</code>对象传入<code>CustomPaint</code>中进行绘制。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyCanvas</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> ui<span class="token punctuation">.</span>Picture picture<span class="token punctuation">;</span>

  <span class="token function">MyCanvas</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>picture<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token metadata symbol">@override</span>
  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">,</span> Size size<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>picture <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> canvas<span class="token punctuation">.</span><span class="token function">drawPicture</span><span class="token punctuation">(</span>picture<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="https://vnode-1253495453.cos.ap-nanjing.myqcloud.com/drawPicture.png" alt="drawPicture"></p> <p>下一篇将介绍<code>Canvas</code>图形变换相关如旋转、平移、缩放等，如有兴趣，请关注</p> <ul><li><a href="https://www.zhihu.com/people/loyer-66" target="_blank" rel="noopener noreferrer">知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://jsshon.cn" target="_blank" rel="noopener noreferrer">个人博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/xuzhongpeng" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit" data-v-8958e280><!----> <div class="last-updated" data-v-8958e280><span class="prefix" data-v-8958e280>Last Updated:</span> <span class="time" data-v-8958e280>6/6/2021, 5:51:41 PM</span></div></footer> <div class="page-nav" data-v-8958e280><p class="inner" data-v-8958e280><span class="prev" data-v-8958e280>
        ←
        <a href="/blog/canvas/Flutter渲染之绘制启动及layout.html" class="prev" data-v-8958e280>Flutter渲染之绘制启动及Layout</a></span> <span class="next" data-v-8958e280><a href="/blog/canvas/canvas学习之基础知识.html" data-v-8958e280>Flutter Canvas学习之基础知识</a>→
      </span></p></div> <div id="gitalk-container" data-v-8958e280></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f735c987.js" defer></script><script src="/assets/js/4.1b5f1a26.js" defer></script><script src="/assets/js/3.7354cf96.js" defer></script><script src="/assets/js/25.f9800b90.js" defer></script>
  </body>
</html>
